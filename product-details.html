<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/Christofer-Style.css"> <!--Denna skall ändras till style.css efter merge -->
    <title>Spork CO</title>
    <style>
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
        }
        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        .quantity-control {
            display: flex;
            align-items: center;
        }
        .quantity-control button {
            padding: 5px 10px;
            margin: 0 5px;
            cursor: pointer;
        }
        .quantity-control input {
            width: 50px;
            text-align: center;
        }
        h2 {
            font-size: 20px;
            margin-top: 15px;
        }
        .product-section {
            margin-top: 20px;
            text-align: center;
        }
        .product-section img {
            margin-bottom: 15px;
        }
    </style>
</head>

<body>
    <header>
        <section>
            <!-- Just to make the space evenly amongst sections -->
            <section class="empty"></section>

            <!-- Box for Company name -->
            <section class="HeaderName">Sporks CO</section>

            <!-- Box for login and cart -->
            <section class="Login-Cart">
                <a href="profile.html">
                    <img src="img/login.png" alt="Click to get to Profile" class="profile-button" width="10%">
                </a>
                <button onclick="location.href='login.html'" class="login-button">
                    Login
                </button>
                <a href="cart.html">
                    <img class="cart-click" src="img/Cart.jpg" alt="Click me!" width="10%">
                </a>
            </section>
        </section>
        <nav>
            <a href="./index.html">Home</a>
            <a href="products.html">Products</a>
            <a href="contact.html">Contact</a>
            <a href="faq.html">FAQ</a>
            <a href="about.html">About</a>
        </nav>
    </header>

    <main>
        <div id="description-container">
            <p style="font-size: 28px; color: black;"><b>SPORK, din bästa vän i naturen!</b></p>
        </div>

        <section class="product-section">
            <a href="product-details.html">
                <div id="product-image-container">
                    <img id="product-image" src="./img/spork.jpg" alt="Spork image" width="300px">
                </div>
            </a>

            <h2>Beställ här</h2>

            

            <div class="form-group">
                <label for="color">Färgval</label>
                <select id="color">
                    <option value="blue">Blå</option>
                    <option value="green">Grön</option>
                    <option value="pink">Rosa</option>
                    <option value="yellow">Gul</option>
                </select>
            </div>

            <div class="form-group">
                <label for="price">Pris</label>
                <div id="price-container">
                    <input type="number" id="price" value="12.90" readonly>
                </div>
            </div>

            <div class="form-group">
                <label for="quantity">Beställ</label>
                <div class="quantity-control">
                    <button type="button" onclick="changeQuantity(-1)">-</button>
                    <input type="number" id="quantity" value="1" min="1">
                    <button type="button" onclick="changeQuantity(1)">+</button>
                </div>
            </div>

            <button type="button" onclick="addToCart()" style="margin-top: 10px; padding: 10px 20px; background-color: #4CAF50; color: white; border: none; cursor: pointer;">Lägg i varukorgen</button>
        </section>

        <script>
            function changeQuantity(amount) {
                const quantityInput = document.getElementById('quantity');
                let currentQuantity = parseInt(quantityInput.value);

                if (!isNaN(currentQuantity)) {
                    currentQuantity += amount;

                    // Ensure quantity doesn't go below 1
                    if (currentQuantity < 1) {
                        currentQuantity = 1;
                    }

                    quantityInput.value = currentQuantity;
                }
            }

            function addToCart() {
                const price = document.getElementById('price').value;
                const quantity = document.getElementById('quantity').value;
                alert(`Added to cart:\n\nItem: ${description}\nPrice: ${price} SEK\nQuantity: ${quantity}`);
            }
        </script>

        <script src="js/products.js"></script>

        <!-- set the product based on the url parameter -->
        <script>
            let productDescriptionToShow = "";
            let productImageUrl = "";
            let productPrice = 0.00;

            for (let i = 0; i < products.length; i++) {
                let p = products[i];
                if (product === p.product_name) {
                    productDescriptionToShow = `<p style="font-size: 28px; color: black;"><b>${p.description}</b></p>`;
                    productImageUrl = `<img id="product-image" src="/img/${p.product_name}.jpg" alt="product image" width="300px">`;
                    productPrice = `<input type="number" id="price" value="${p.price}" readonly>`;
                    break;
                }
            }
            document.getElementById("description-container").innerHTML = productDescriptionToShow;
            document.getElementById("product-image-container").innerHTML = productImageUrl;
            document.getElementById("price-container").innerHTML = productPrice;
        </script>

    </main>

    <footer>
        <p>Copyright &copy; by Christofer, Saga, Sami</p>
    </footer>

</body>

</html>
